```asm
[ENABLE]
//Hangar wingman LoD options script by dead_d0g (death_the_d0g @ Twitter/Github)
//Optional parameters to control your wingman's aircraft model level of detail
//and animation playback.
//TODO: The LoD injection doesn't work sometimes. Fix this.

//In order to keep the performance stable the game switches between low/mid/high poly/quality models
//for almost everything besides the player's aircraft model.
//For the game's hangar case, the game will keep the "mid-quality" looking model for Pixy/PJ's aircraft
//but switch to the "high-quality" model when the camera highlight on them.
//As soon you are done selecting your SpW the camera will be placed over your wingman's aircraft before jumping
//to their SpW model. In this small timeframe (not even a second) the game will set a "HQ" flag so your wingman's
//aircraft model will use their hiqgh quality model before switching to the "mid" qulaity looking one.
```
```lua
{$lua}

--[[Set array of bytes to search]]
array = "00 00 20 44 00 00 ?? 43 00 00 00 44 00 00 80 3F"

--[[Start search]]

ms = createMemScan()
ms.firstScan(soExactValue, vtByteArray, nil,array, nil, 0x20700000,0x21f00000,"",1,"4",true,nil,nil,nil)
ms.waitTillDone()
fl = createFoundList(ms)
fl.initialize()

--[[Process found results and create cheat table]]

if (fl~=nil) then

	al = getAddressList()

	header2 = al.createMemoryRecord()

	header2.Description = "Hangar wingman options"
	header2.isGroupHeader = true

	for i = 1, 1 do
		base_address = getAddress(fl[0])

		hngr_wngmn_anim = al.createMemoryRecord()
		hngr_wngman_mdl_lod = al.createMemoryRecord()

		hangar_wingman_animation = base_address + 0x1344
		hangar_wingman_aircraft_model_lod = base_address + 0x1822

		hngr_wngman_mdl_lod.Description = "HANGAR aircraft model LOD"
		hngr_wngman_mdl_lod.setAddress(hangar_wingman_aircraft_model_lod)
		hngr_wngman_mdl_lod.Type = vtByte
		hngr_wngman_mdl_lod.appendToEntry(header2)

		hngr_wngmn_anim.Description = "HANGAR wingman animation flag"
		hngr_wngmn_anim.setAddress(hangar_wingman_animation)
		hngr_wngmn_anim.Type = vtByte
		hngr_wngmn_anim.appendToEntry(header2)

end

fl.destroy()
fl = nil

else
	ms.destroy()
	end
	ms.destroy()
```
```asm
{$asm}

//HANGAR wingman model LOD
//Search for the array of bytes then inject a NOP into it

aobscan(HANGAR_WINGMAN_MDL_LOD, 88 11 C7 05 ?8 A? ?? 0? A4 C6 13 00 A1 ?0 A? ?? 0? 83 C0 03 A3 ?0 A? ?? 0? 2B 05 ?? ?? ?? 0? 0F 88 05 00 00 00 E9 ?? ?? ?? D? 8B 0D ?0 ?? ?? 0? 81 C1 97 18 00 00 89 C8 C1 E8 0C 8B 04 85 30 ?0 ?? ?? BB ?? ?? ?? 30 01 C1 0F 88 ?? ?? ?? D? 0F B6 01 A3 ?0 ?? ?? 0? C7 05 ?4 ?? ?? 0? 00 00 00 00 83 25 ?0 ?? ?? 0? 01 C7 05 ?4 ?? ?? 0? 00 00 00 00 81 25 ?0 ?? ?? 0? FF 00 00 00 C7 05 ?4 ?? ?? 0? 00 00 00 00 83 3D ?0 ?? ?? 0? 00 0F 85 69 00 00 00 83 3D ?4 ?? ?? 0? 00 0F 85 5C 00 00 00 8B 0D ?0 ?? ?? 0? 81 C1 80 18 00 00 89 C8 C1 E8 0C 8B 04 85 30 ?0 ?? ?? BB ?? ?? ?? 30 01 C1 0F 88 ?? ?? ?? D? 0F BE 01 99 A3 ?0 ?? ?? 0? 89 15 ?4 ?? ?? 0? C7 05 ?8 A? ?? 0? D0 C6 13 00 A1 ?0 A? ?? 0? 83 C0 07 A3 ?0 A? ?? 0? 2B 05 ?? ?? ?? 0? 0F 88 ?? ?? ?? ?? E9 ?? ?? ?? D? C7 05 ?8 A? ?? 0? B8 C6 13 00 A1 ?0 A? ?? 0? 83 C0 05 A3 ?0 A? ?? 0? 2B 05 ?? ?? ?? 0? 0F 88 ?? ?? ?? ?? E9 ?? ?? ?? D? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? 0? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? 0? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? 0? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ?? ??) // should be unique
registersymbol(HANGAR_WINGMAN_MDL_LOD)

HANGAR_WINGMAN_MDL_LOD:
db 90 90

luacall(playSound(findTableFile('Activate')))

[DISABLE]

//[[Restore default values]]

{$asm}

//Restore previously NOP'd code

HANGAR_WINGMAN_MDL_LOD:
db 88 11

unregistersymbol(HANGAR_WINGMAN_MDL_LOD)
```
```lua
{$lua}

--[[destroy entries list]]
header2.destroy()
```
{$asm}
